{"version":3,"sources":["ws-client.js","app.js","main.js"],"names":["socket","init","url","WebSocket","console","log","registerOpenHandler","handlerFunction","onopen","registerMessageHandler","onmessage","e","data","JSON","parse","sendMessage","payload","send","stringify","ChatApp","message","ChatMessage","serialize","m","user","u","username","timestamp","t","Date","getTime"],"mappings":";AAuBe,aAvBf,IAAIA,EAEJ,SAASC,EAAKC,GACZF,EAAS,IAAIG,UAAUD,GACvBE,QAAQC,IAAI,iBAGd,SAASC,EAAoBC,GACzBP,EAAOQ,OAAS,WACdJ,QAAQC,IAAI,QACZE,KAGN,SAASE,EAAuBF,GAC5BP,EAAOU,UAAY,SAACC,GAChBP,QAAQC,IAAI,UAAWM,EAAEC,MACrBA,IAAAA,EAAOC,KAAKC,MAAMH,EAAEC,MACxBL,EAAgBK,IAGxB,SAASG,EAAYC,GACjBhB,EAAOiB,KAAKJ,KAAKK,UAAUF,IAEhB,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,aAAA,EAAA,IAAA,EAAA,CACXf,KAAAA,EACAK,oBAAAA,EACAG,uBAAAA,EACAM,YAAAA,GAJW,QAAA,QAAA;;ACaAI,aAAAA,OAAAA,eAAAA,QAAAA,aAAAA,CAAAA,OAAAA,IAAAA,QAAAA,aAAAA,EApCf,IAAA,EAAA,EAAA,QAAA,gBAoCeA,SAAAA,EAAAA,GAAAA,OAAAA,GAAAA,EAAAA,WAAAA,EAAAA,CAAAA,QAAAA,GAAAA,SAAAA,EAAAA,EAAAA,GAAAA,IAAAA,IAAAA,EAAAA,EAAAA,EAAAA,EAAAA,OAAAA,IAAAA,CAAAA,IAAAA,EAAAA,EAAAA,GAAAA,EAAAA,WAAAA,EAAAA,aAAAA,EAAAA,EAAAA,cAAAA,EAAAA,UAAAA,IAAAA,EAAAA,UAAAA,GAAAA,OAAAA,eAAAA,EAAAA,EAAAA,IAAAA,IAAAA,SAAAA,EAAAA,EAAAA,EAAAA,GAAAA,OAAAA,GAAAA,EAAAA,EAAAA,UAAAA,GAAAA,GAAAA,EAAAA,EAAAA,GAAAA,EAAAA,SAAAA,EAAAA,EAAAA,GAAAA,KAAAA,aAAAA,GAAAA,MAAAA,IAAAA,UAAAA,qCAlCTA,IAAAA,EACF,SAAc,IAAA,EAAA,KAAA,GACVf,QAAQC,IAAI,cACLJ,EAAAA,QAAAA,KAAK,uBACLK,EAAAA,QAAAA,oBAAoB,WACrBc,IAAAA,EAAU,IAAIC,EAAY,CAAED,QAAS,SAClCL,EAAAA,QAAAA,YAAYK,EAAQE,eAEtBb,EAAAA,QAAAA,uBAAuB,SAACG,GAC7BR,QAAQC,IAAIO,MAMhBS,EAAAA,WAKD,SAAA,EAAA,GAHQE,IAAAA,EAATH,EAAAA,QACAI,EAAAA,EAAAA,KAAMC,OAAEC,IAAAA,EAAAA,SAEP,EADDC,EAAAA,EAAAA,UAAWC,OAAG,IAAA,GAAA,IAAIC,MAAQC,UACzB,EAAA,EAAA,KAAA,GACIN,KAAAA,KAAOD,EACPH,KAAAA,QAAUK,EACVE,KAAAA,UAAYC,EAWNT,OAAAA,EAAAA,EAAAA,CAAAA,CAAAA,IAAAA,YATD,MAAA,WACH,MAAA,CACLK,KAAM,KAAKA,KACXJ,QAAS,KAAKA,QACdO,UAAW,KAAKA,eAKPR,EAnBTE,GAmBSF,EAAAA,EAAAA,QAAAA,QAAAA;;ACnCf,aADA,IAAA,EAAA,EAAA,QAAA,UACA,SAAA,EAAA,GAAA,OAAA,GAAA,EAAA,WAAA,EAAA,CAAA,QAAA,GAAA,IAAIA,EAAJ","file":"main.js","sourceRoot":"..\\src","sourcesContent":["let socket;\r\n\r\nfunction init(url)  {\r\n  socket = new WebSocket(url);\r\n  console.log('connecting...');\r\n}\r\n\r\nfunction registerOpenHandler(handlerFunction) {\r\n    socket.onopen = () => {\r\n      console.log('open');\r\n      handlerFunction();\r\n    };\r\n}\r\nfunction registerMessageHandler(handlerFunction) {\r\n    socket.onmessage = (e) => {\r\n        console.log('message', e.data);\r\n        let data = JSON.parse(e.data);\r\n        handlerFunction(data);\r\n    };\r\n}\r\nfunction sendMessage(payload) {\r\n    socket.send(JSON.stringify(payload));\r\n}\r\nexport default {\r\n    init,\r\n    registerOpenHandler,\r\n    registerMessageHandler,\r\n    sendMessage\r\n}","import socket from './ws-client';\r\n\r\nclass ChatApp {\r\n    constructor() {\r\n        console.log('Hello ES6!');\r\n        socket.init('ws://localhost:3001');\r\n        socket.registerOpenHandler(() => {\r\n          let message = new ChatMessage({ message: 'pow!' });\r\n          socket.sendMessage(message.serialize());\r\n        });\r\n        socket.registerMessageHandler((data) => {\r\n          console.log(data);\r\n        });\r\n    }\r\n    \r\n}\r\n\r\nclass ChatMessage {\r\n  constructor({\r\n    message: m,\r\n    user: u=username,\r\n    timestamp: t=(new Date()).getTime()\r\n  }) {\r\n    this.user = m;\r\n    this.message = u;\r\n    this.timestamp = t;\r\n  }\r\n  serialize() {\r\n    return {\r\n      user: this.user,\r\n      message: this.message,\r\n      timestamp: this.timestamp\r\n    };\r\n  }\r\n}\r\n\r\nexport default ChatApp;","import ChatApp from './app';\r\nnew ChatApp();"]}